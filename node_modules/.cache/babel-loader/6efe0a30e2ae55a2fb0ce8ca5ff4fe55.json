{"ast":null,"code":"var _jsxFileName = \"/home/alta2/frontend/ecommerce/src/pages/SignIn.js\";\nimport React from \"react\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../store\";\nimport axios from \"axios\";\nimport ls from \"local-storage\";\nimport \"./../Aset/css/header.css\";\n\nclass SignIn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      password: \"\"\n    };\n    this.handleInput1 = this.handleInput1.bind(this);\n    this.handleInput2 = this.handleInput2.bind(this);\n  }\n\n  handleInput1(event) {\n    if (event.target.value.length > 0) {\n      localStorage.setItem(\"user_id\", event.target.value);\n    }\n  }\n\n  handleInput2(event) {\n    event.preventDefault();\n    const self = this;\n\n    if (event.target.value.length > 0) {\n      self.setState({\n        password: event.target.value\n      });\n    }\n  }\n\n  async postLogin(e) {\n    const self = this;\n    e.preventDefault();\n    await axios.get(self.props.baseUrl + \"/users/login\", {\n      params: {\n        username: localStorage.getItem(\"user_id\"),\n        password: self.state.password\n      }\n    }).then(function (response) {\n      localStorage.setItem(\"token\", response.data.token);\n      console.log(response.data.token);\n      localStorage.setItem(\"status\", true);\n    }).catch(function (error) {\n      console.log(\"ambil token error cuy!\", error);\n    });\n    let setting = {\n      method: \"GET\",\n      url: self.props.baseUrl + \"/users/whoisme\",\n      headers: {\n        Authorization: \"Bearer \" + ls.get(\"token\")\n      }\n    };\n    await axios(setting).then(function (response) {\n      self.props.setUserid(response.data.id);\n      self.props.setAlamat(response.data.alamat);\n      self.props.setStatus(response.data.status);\n      self.props.setNomorhp(response.data.nomorhp);\n      console.log(response.data.id);\n      self.props.history.replace(\"/profile\");\n    }).catch(function (error) {\n      console.log(\"ambil token error cuy!\", error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row d-flex align-items-center homeground\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12 align-self-center text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content signin d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      style: {\n        height: \"310px\",\n        width: 400\n      },\n      onSubmit: this.handleSubmit,\n      className: \"border p-5 align-self-center text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: {\n        width: \"100%\"\n      },\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Username\",\n      onChange: this.handleInput1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: {\n        width: \"100%\"\n      },\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      onChange: this.handleInput2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-secondary\",\n      onClick: e => this.postLogin(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"SignIn\"))))))))));\n  }\n\n}\n\nexport default connect(\"baseUrl,username\", actions)(SignIn);","map":{"version":3,"sources":["/home/alta2/frontend/ecommerce/src/pages/SignIn.js"],"names":["React","connect","actions","axios","ls","SignIn","Component","constructor","props","state","password","handleInput1","bind","handleInput2","event","target","value","length","localStorage","setItem","preventDefault","self","setState","postLogin","e","get","baseUrl","params","username","getItem","then","response","data","token","console","log","catch","error","setting","method","url","headers","Authorization","setUserid","id","setAlamat","alamat","setStatus","status","setNomorhp","nomorhp","history","replace","render","height","width","handleSubmit"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../store\";\nimport axios from \"axios\";\nimport ls from \"local-storage\";\nimport \"./../Aset/css/header.css\";\n\nclass SignIn extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            password: \"\"\n        };\n        this.handleInput1 = this.handleInput1.bind(this);\n        this.handleInput2 = this.handleInput2.bind(this);\n    }\n\n    handleInput1(event) {\n        if (event.target.value.length > 0) {\n            localStorage.setItem(\"user_id\", event.target.value);\n        }\n    }\n\n    handleInput2(event) {\n        event.preventDefault();\n        const self = this;\n        if (event.target.value.length > 0) {\n            self.setState({ password: event.target.value });\n        }\n    }\n\n    async postLogin(e) {\n        const self = this;\n        e.preventDefault();\n        await axios\n            .get(self.props.baseUrl + \"/users/login\", {\n                params: {\n                    username: localStorage.getItem(\"user_id\"),\n                    password: self.state.password\n                }\n            })\n            .then(function(response) {\n                localStorage.setItem(\"token\", response.data.token);\n                console.log(response.data.token);\n                localStorage.setItem(\"status\", true);\n            })\n            .catch(function(error) {\n                console.log(\"ambil token error cuy!\", error);\n            });\n\n        let setting = {\n            method: \"GET\",\n            url: self.props.baseUrl + \"/users/whoisme\",\n            headers: {\n                Authorization: \"Bearer \" + ls.get(\"token\")\n            }\n        };\n\n        await axios(setting)\n            .then(function(response) {\n                self.props.setUserid(response.data.id);\n                self.props.setAlamat(response.data.alamat);\n                self.props.setStatus(response.data.status);\n                self.props.setNomorhp(response.data.nomorhp);\n                console.log(response.data.id);\n                self.props.history.replace(\"/profile\");\n            })\n            .catch(function(error) {\n                console.log(\"ambil token error cuy!\", error);\n            });\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <div className=\"row d-flex align-items-center homeground\">\n                                <div className=\"col-md-12 align-self-center text-center\">\n                                    <div className=\"login\">\n                                        <section className=\"content signin d-flex justify-content-center\">\n                                            <form\n                                                style={{\n                                                    height: \"310px\",\n                                                    width: 400\n                                                }}\n                                                onSubmit={this.handleSubmit}\n                                                className=\"border p-5 align-self-center text-center\"\n                                            >\n                                                <h4>Sign In</h4>\n                                                <div>\n                                                    <input\n                                                        style={{\n                                                            width: \"100%\"\n                                                        }}\n                                                        type=\"text\"\n                                                        name=\"username\"\n                                                        placeholder=\"Username\"\n                                                        onChange={\n                                                            this.handleInput1\n                                                        }\n                                                    />\n                                                </div>\n                                                <div>\n                                                    <input\n                                                        style={{\n                                                            width: \"100%\"\n                                                        }}\n                                                        type=\"password\"\n                                                        name=\"password\"\n                                                        placeholder=\"password\"\n                                                        onChange={\n                                                            this.handleInput2\n                                                        }\n                                                    />\n                                                </div>\n                                                <button\n                                                    className=\"btn btn-secondary\"\n                                                    onClick={e =>\n                                                        this.postLogin(e)\n                                                    }\n                                                >\n                                                    SignIn\n                                                </button>\n                                            </form>\n                                        </section>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nexport default connect(\n    \"baseUrl,username\",\n    actions\n)(SignIn);\n"]},"metadata":{},"sourceType":"module"}