{"ast":null,"code":"var _jsxFileName = \"/home/alta2/Documents/alta3_2_agatha/Portofolio Project/ecommerce/src/pages/SignIn.js\";\nimport React from \"react\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../store\";\nimport axios from \"axios\";\nimport \"./../aset/css/header.css\";\n\nclass SignIn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      password: \"\"\n    };\n    this.handleInput1 = this.handleInput1.bind(this);\n    this.handleInput2 = this.handleInput2.bind(this);\n  }\n\n  handleInput1(event) {\n    const self = this;\n\n    if (event.target.value.length > 0) {\n      self.props.setName(event.target.value);\n    }\n  }\n\n  handleInput2(event) {\n    event.preventDefault();\n    const self = this;\n\n    if (event.target.value.length > 0) {\n      self.setState({\n        password: event.target.value\n      });\n    }\n  }\n\n  async postLogin(e) {\n    const self = this;\n    e.preventDefault();\n    await axios.get(self.props.baseUrl + \"/users/login\", {\n      params: {\n        username: self.props.username,\n        password: self.state.password\n      }\n    }).then(function (response) {\n      self.props.setToken(response.data.token);\n      console.log(response.data.token);\n      self.props.login();\n    }).catch(function (error) {\n      console.log(\"ambil token error cuy!\", error);\n    });\n    let data = {\n      user_id: self.props.user_id\n    };\n    let setting = {\n      method: \"GET\",\n      url: self.props.baseUrl + \"/users/whoisme\",\n      // data: data,\n      headers: {\n        Authorization: \"Bearer \" + self.props.token\n      }\n    };\n    await axios(setting).then(function (response) {\n      self.props.setUserid(response.data.id);\n      console.log(response.data.id);\n      self.props.history.replace(\"/inputbarang\");\n    }).catch(function (error) {\n      console.log(\"ambil token error cuy!\", error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row d-flex align-items-center homeground\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12 align-self-center text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content signin d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      style: {\n        height: \"310px\",\n        width: 400\n      },\n      onSubmit: this.handleSubmit,\n      className: \"border p-5 align-self-center text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: {\n        width: \"100%\"\n      },\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Username\",\n      onChange: this.handleInput1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: {\n        width: \"100%\"\n      },\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      onChange: this.handleInput2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-secondary\",\n      onClick: e => this.postLogin(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"SignIn\")))))))))));\n  }\n\n}\n\nexport default connect(\"baseUrl,token,username\", actions)(SignIn);","map":{"version":3,"sources":["/home/alta2/Documents/alta3_2_agatha/Portofolio Project/ecommerce/src/pages/SignIn.js"],"names":["React","connect","actions","axios","SignIn","Component","constructor","props","state","password","handleInput1","bind","handleInput2","event","self","target","value","length","setName","preventDefault","setState","postLogin","e","get","baseUrl","params","username","then","response","setToken","data","token","console","log","login","catch","error","user_id","setting","method","url","headers","Authorization","setUserid","id","history","replace","render","height","width","handleSubmit"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../store\";\nimport axios from \"axios\";\nimport \"./../aset/css/header.css\";\n\nclass SignIn extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            password: \"\"\n        };\n        this.handleInput1 = this.handleInput1.bind(this);\n        this.handleInput2 = this.handleInput2.bind(this);\n    }\n\n    handleInput1(event) {\n        const self = this;\n        if (event.target.value.length > 0) {\n            self.props.setName(event.target.value);\n        }\n    }\n\n    handleInput2(event) {\n        event.preventDefault();\n        const self = this;\n        if (event.target.value.length > 0) {\n            self.setState({ password: event.target.value });\n        }\n    }\n\n    async postLogin(e) {\n        const self = this;\n        e.preventDefault();\n        await axios\n            .get(self.props.baseUrl + \"/users/login\", {\n                params: {\n                    username: self.props.username,\n                    password: self.state.password\n                }\n            })\n            .then(function(response) {\n                self.props.setToken(response.data.token);\n                console.log(response.data.token);\n                self.props.login();\n            })\n            .catch(function(error) {\n                console.log(\"ambil token error cuy!\", error);\n            });\n\n        let data = {\n            user_id: self.props.user_id\n        };\n        let setting = {\n            method: \"GET\",\n            url: self.props.baseUrl + \"/users/whoisme\",\n            // data: data,\n            headers: {\n                Authorization: \"Bearer \" + self.props.token\n            }\n        };\n\n        await axios(setting)\n            .then(function(response) {\n                self.props.setUserid(response.data.id);\n                console.log(response.data.id);\n                self.props.history.replace(\"/inputbarang\");\n            })\n            .catch(function(error) {\n                console.log(\"ambil token error cuy!\", error);\n            });\n    }\n\n    render() {\n        return (\n            <div>\n                <div>\n                    <div className=\"container-fluid\">\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <div className=\"row d-flex align-items-center homeground\">\n                                    <div className=\"col-md-12 align-self-center text-center\">\n                                        <div className=\"login\">\n                                            <section className=\"content signin d-flex justify-content-center\">\n                                                <form\n                                                    style={{\n                                                        height: \"310px\",\n                                                        width: 400\n                                                    }}\n                                                    onSubmit={this.handleSubmit}\n                                                    className=\"border p-5 align-self-center text-center\"\n                                                >\n                                                    <h4>Sign In</h4>\n                                                    <div>\n                                                        <input\n                                                            style={{\n                                                                width: \"100%\"\n                                                            }}\n                                                            type=\"text\"\n                                                            name=\"username\"\n                                                            placeholder=\"Username\"\n                                                            onChange={\n                                                                this\n                                                                    .handleInput1\n                                                            }\n                                                        />\n                                                    </div>\n                                                    <div>\n                                                        <input\n                                                            style={{\n                                                                width: \"100%\"\n                                                            }}\n                                                            type=\"password\"\n                                                            name=\"password\"\n                                                            placeholder=\"password\"\n                                                            onChange={\n                                                                this\n                                                                    .handleInput2\n                                                            }\n                                                        />\n                                                    </div>\n                                                    <button\n                                                        className=\"btn btn-secondary\"\n                                                        onClick={e =>\n                                                            this.postLogin(e)\n                                                        }\n                                                    >\n                                                        SignIn\n                                                    </button>\n                                                </form>\n                                            </section>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nexport default connect(\n    \"baseUrl,token,username\",\n    actions\n)(SignIn);\n"]},"metadata":{},"sourceType":"module"}